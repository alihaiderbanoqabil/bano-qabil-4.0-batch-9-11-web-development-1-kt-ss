<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class 24 (Class 8 of JS)</title>
</head>

<body>
    <h1>
        Class 24 (Class 8 of JS)
    </h1>
    <button onclick=" createUser({
            name: 'John Doe',
            username: 'johndoe',
            email: 'john@gmail.com',
            address: {
                street: '123 Main St',
                suite: 'Apt 4B',
                city: 'New York',
                zipcode: '10001',
                geo: {
                    lat: '40.7128',
                    lng: '-74.0060'
                }
            },
            phone: '123-456-7890',
            website: 'johndoe.com',
            company: {
                name: 'Doe Enterprises',
                catchPhrase: 'Innovating the Future',
                bs: 'synergize scalable solutions'
            }
        })">Create User By onclick</button>
    <button onmouseover=" createUser({
            name: 'John Doe',
            username: 'johndoe',
            email: 'john@gmail.com',
            address: {
                street: '123 Main St',
                suite: 'Apt 4B',
                city: 'New York',
                zipcode: '10001',
                geo: {
                    lat: '40.7128',
                    lng: '-74.0060'
                }
            },
            phone: '123-456-7890',
            website: 'johndoe.com',
            company: {
                name: 'Doe Enterprises',
                catchPhrase: 'Innovating the Future',
                bs: 'synergize scalable solutions'
            }
        })">Create User By onmouseover</button>
    <input type="text" id="input1" placeholder="Type something here" onkeypress=" createUser({
            name: 'John Doe',
            username: 'johndoe',
            email: 'john@gmail.com',
            address: {
                street: '123 Main St',
                suite: 'Apt 4B',
                city: 'New York',
                zipcode: '10001',
                geo: {
                    lat: '40.7128',
                    lng: '-74.0060'
                }
            },
            phone: '123-456-7890',
            website: 'johndoe.com',
            company: {
                name: 'Doe Enterprises',
                catchPhrase: 'Innovating the Future',
                bs: 'synergize scalable solutions'
            }
        })">
    <script>
        // console.log('Asynchronous code starts');


        // const fetchUsers = async () => {
        //     try {
        //         const response = await fetch('https://jsonplaceholder.typicode.com/users')
        //         console.log(response, 'response');
        //         const users = await response.json();
        //         console.log(users, 'users');
        //     } catch (error) {
        //         console.log('Error fetching users:', error);
        //     }
        //     finally {
        //         console.log('Fetch operation completed');
        //     }

        //     // const response = await fetch('https://jsonplaceholder.typicode.com')
        //     // console.log(response, 'response');
        //     // const users = await response.json();
        //     // console.log(users, 'users');
        // }

        // const fetchUsers = async () => {
        //     fetch('https://jsonplaceholder.typicode.com/users')
        //         .then((response) => {
        //             console.log(response, 'response');
        //             return response.json();
        //         })
        //         .then(function (users) {
        //             console.log(users, 'users');
        //         })
        //         .catch(function (error) {
        //             console.log('Error fetching users:', error);
        //         })
        //         .finally(function () {
        //             console.log('Fetch operation completed');
        //         });

        // fetch('https://jsonplaceholder.typicode.com/users')
        //     .then(response => {
        //         console.log(response, 'response');
        //         return response.json();
        //     })
        //     .then(users => {
        //         console.log(users, 'users');
        //     })
        //     .catch(error => {
        //         console.log('Error fetching users:', error);
        //     })
        //     .finally(() => {
        //         console.log('Fetch operation completed');
        //     });
        // const response = await fetch('https://jsonplaceholder.typicode.com')
        // console.log(response, 'response');
        // const users = await response.json();
        // console.log(users, 'users');

        // }

        // console.log('Asynchronous code ends');


        const fetchUsers = async () => {
            try {
                const response = await fetch('https://jsonplaceholder.typicode.com/users')
                console.log(response, 'response');
                const users = await response.json();
                console.log(users, 'users');
            } catch (error) {
                console.log('Error fetching users:', error);
            }
            finally {
                console.log('Fetch operation completed');
            }
        }

        const fetchPosts = async () => {
            try {
                const response = await fetch('https://jsonplaceholder.typicode.com/posts')
                console.log(response, 'response');
                const posts = await response.json();
                console.log(posts, 'posts');
            } catch (error) {
                console.log('Error fetching users:', error);
            }
            finally {
                console.log('Fetch operation completed');
            }
        }
        // async function fetchData() { }
        // const fetchData = async (url = 'https://jsonplaceholder.typicode.com/users') => {
        //     try {
        //         const response = await fetch(url)
        //         // console.log(response, 'response');
        //         const data = await response.json();
        //         console.log(data, 'data');
        //     } catch (error) {
        //         console.log('Error fetching users:', error);
        //     }
        //     finally {
        //         console.log('Fetch operation completed');
        //     }
        // }
        // fetchData('https://jsonplaceholder.typicode.com/posts/1');
        // fetchData('https://jsonplaceholder.typicode.com/posts');
        // fetchData('https://jsonplaceholder.typicode.com/comments');
        // fetchData('https://jsonplaceholder.typicode.com/albums');
        // fetchData('https://jsonplaceholder.typicode.com/photos');
        // fetchData('https://jsonplaceholder.typicode.com/todos');
        // fetchData('https://jsonplaceholder.typicode.com/users');

        const fetchData = async (endPoint = 'users') => {
            try {
                const response = await fetch(`https://jsonplaceholder.typicode.com/${endPoint}`)
                // console.log(response, 'response');
                const data = await response.json();
                console.log(data, 'data');
            } catch (error) {
                console.log('Error fetching users:', error);
            }
            finally {
                console.log('Fetch operation completed');
            }
        }
        // fetchData();
        // fetchData('posts/1');
        // fetchData('posts');
        // fetchData('comments');
        // fetchData('albums');
        // fetchData('photos');
        // fetchData('todos');
        // fetchData('users');

        const dummyJwtToken = `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.KMUFsIDTnFmyG3nMiGM6H9FNFUROf3wh7SmqJp-QV30`;
        const createUser = async (user) => {
            try {
                const response = await fetch('https://jsonplaceholder.typicode.com/users', {
                    method: 'POST', // DELETE, PUT, PATCH
                    // headers: {
                    //     'Content-Type': 'application/json',
                    //     // 'Authorization' : `Bearer YOUR_API_KEY_HERE` 
                    //     'Authorization': `Bearer ${dummyJwtToken}`
                    // },
                    body: JSON.stringify(user), // we use body only with POST, PUT, PATCH methods
                    // body: user // This will not work as expected because the API expects a JSON string
                });
            } catch (error) {
                console.log('Error creating user:', error);
            }
            finally {
                console.log('Create user operation completed');
            }
        }
        // const updateUser = async (user) => {
        //     try {
        //         const response = await fetch(`https://jsonplaceholder.typicode.com/users/${user.id}`, {
        //             method: 'PATCH', // DELETE, PUT, PATCH
        //             // headers: {
        //             //     'Content-Type': 'application/json',
        //             //     // 'Authorization' : `Bearer YOUR_API_KEY_HERE`
        //             //     'Authorization': `Bearer ${dummyJwtToken}`
        //             // },
        //             body: JSON.stringify(user), // we use body only with POST, PUT, PATCH methods
        //             // body: user // This will not work as expected because the API expects a JSON string
        //         });
        //     } catch (error) {
        //         console.log('Error creating user:', error);
        //     }
        //     finally {
        //         console.log('Create user operation completed');
        //     }
        // }

        // fetchData('users');
        // createUser({
        //     name: 'John Doe',
        //     username: 'johndoe',
        //     email: 'john@gmail.com',
        //     address: {
        //         street: '123 Main St',
        //         suite: 'Apt 4B',
        //         city: 'New York',
        //         zipcode: '10001',
        //         geo: {
        //             lat: '40.7128',
        //             lng: '-74.0060'
        //         }
        //     },
        //     phone: '123-456-7890',
        //     website: 'johndoe.com',
        //     company: {
        //         name: 'Doe Enterprises',
        //         catchPhrase: 'Innovating the Future',
        //         bs: 'synergize scalable solutions'
        //     }
        // });
        // fetchPosts();
        // fetchUsers();

        // console.log('Asynchronous code ends');
        // console.log('Asynchronous code ends');
        // console.log('Asynchronous code ends');
        // console.log('Asynchronous code ends');
        // console.log('Asynchronous code ends');
        // console.log('Asynchronous code ends');
    </script>
    <script src="./string-methods.js"></script>
</body>

</html>